{"version":3,"file":"audio-waveform-player-element.cjs.js","sources":["../src/helpers/checkPassiveEventListener.js","../src/helpers/focus-visible.js","../src/helpers/getFileArrayBuffer.js","../src/helpers/getFileAudioBuffer.js","../src/helpers/withMediaSession.js","../src/helpers/getDisplayName.js","../src/helpers/fetchSource.js","../src/helpers/formatTime.js","../src/helpers/hexToRGB.js","../src/components/Icons/Play.js","../src/components/Icons/Pause.js","../src/AudioWaveformPlayer.js","../src/index.js"],"sourcesContent":["export const checkPassiveEventListener = (() => {\n  let passiveSupported;\n  return function checkPassiveEventListener_() {\n    if (passiveSupported !== undefined) {\n      return passiveSupported;\n    }\n\n    try {\n      const options = {\n        // eslint-disable-next-line getter-return\n        get passive() {\n          passiveSupported = true;\n        },\n      };\n\n      window.addEventListener('test', options, options);\n      window.removeEventListener('test', options, options);\n    } catch (err) {\n      passiveSupported = false;\n    }\n\n    return passiveSupported;\n  };\n})();\n","/**\n * Applies the :focus-visible polyfill at the given scope.\n * A scope in this case is either the top-level Document or a Shadow Root.\n *\n * @param {(Document|ShadowRoot)} scope\n * @see https://github.com/WICG/focus-visible\n */\nexport function applyFocusVisiblePolyfill(scope) {\n  var hadKeyboardEvent = true;\n  var hadFocusVisibleRecently = false;\n  var hadFocusVisibleRecentlyTimeout = null;\n\n  var inputTypesAllowlist = {\n    text: true,\n    search: true,\n    url: true,\n    tel: true,\n    email: true,\n    password: true,\n    number: true,\n    date: true,\n    month: true,\n    week: true,\n    time: true,\n    datetime: true,\n    'datetime-local': true,\n  };\n\n  /**\n   * Helper function for legacy browsers and iframes which sometimes focus\n   * elements like document, body, and non-interactive SVG.\n   * @param {Element} el\n   */\n  function isValidFocusTarget(el) {\n    if (\n      el &&\n      el !== document &&\n      el.nodeName !== 'HTML' &&\n      el.nodeName !== 'BODY' &&\n      'classList' in el &&\n      'contains' in el.classList\n    ) {\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * Computes whether the given element should automatically trigger the\n   * `focus-visible` class being added, i.e. whether it should always match\n   * `:focus-visible` when focused.\n   * @param {Element} el\n   * @return {boolean}\n   */\n  function focusTriggersKeyboardModality(el) {\n    var type = el.type;\n    var tagName = el.tagName;\n\n    if (tagName === 'INPUT' && inputTypesAllowlist[type] && !el.readOnly) {\n      return true;\n    }\n\n    if (tagName === 'TEXTAREA' && !el.readOnly) {\n      return true;\n    }\n\n    if (el.isContentEditable) {\n      return true;\n    }\n\n    return false;\n  }\n\n  /**\n   * Add the `focus-visible` class to the given element if it was not added by\n   * the author.\n   * @param {Element} el\n   */\n  function addFocusVisibleClass(el) {\n    if (el.classList.contains('focus-visible')) {\n      return;\n    }\n    el.classList.add('focus-visible');\n    el.setAttribute('data-focus-visible-added', '');\n  }\n\n  /**\n   * Remove the `focus-visible` class from the given element if it was not\n   * originally added by the author.\n   * @param {Element} el\n   */\n  function removeFocusVisibleClass(el) {\n    if (!el.hasAttribute('data-focus-visible-added')) {\n      return;\n    }\n    el.classList.remove('focus-visible');\n    el.removeAttribute('data-focus-visible-added');\n  }\n\n  /**\n   * If the most recent user interaction was via the keyboard;\n   * and the key press did not include a meta, alt/option, or control key;\n   * then the modality is keyboard. Otherwise, the modality is not keyboard.\n   * Apply `focus-visible` to any current active element and keep track\n   * of our keyboard modality state with `hadKeyboardEvent`.\n   * @param {KeyboardEvent} e\n   */\n  function onKeyDown(e) {\n    if (e.metaKey || e.altKey || e.ctrlKey) {\n      return;\n    }\n\n    if (isValidFocusTarget(scope.activeElement)) {\n      addFocusVisibleClass(scope.activeElement);\n    }\n\n    hadKeyboardEvent = true;\n  }\n\n  /**\n   * If at any point a user clicks with a pointing device, ensure that we change\n   * the modality away from keyboard.\n   * This avoids the situation where a user presses a key on an already focused\n   * element, and then clicks on a different element, focusing it with a\n   * pointing device, while we still think we're in keyboard modality.\n   * @param {Event} e\n   */\n  function onPointerDown(e) {\n    hadKeyboardEvent = false;\n  }\n\n  /**\n   * On `focus`, add the `focus-visible` class to the target if:\n   * - the target received focus as a result of keyboard navigation, or\n   * - the event target is an element that will likely require interaction\n   *   via the keyboard (e.g. a text box)\n   * @param {Event} e\n   */\n  function onFocus(e) {\n    // Prevent IE from focusing the document or HTML element.\n    if (!isValidFocusTarget(e.target)) {\n      return;\n    }\n\n    if (hadKeyboardEvent || focusTriggersKeyboardModality(e.target)) {\n      addFocusVisibleClass(e.target);\n    }\n  }\n\n  /**\n   * On `blur`, remove the `focus-visible` class from the target.\n   * @param {Event} e\n   */\n  function onBlur(e) {\n    if (!isValidFocusTarget(e.target)) {\n      return;\n    }\n\n    if (\n      e.target.classList.contains('focus-visible') ||\n      e.target.hasAttribute('data-focus-visible-added')\n    ) {\n      // To detect a tab/window switch, we look for a blur event followed\n      // rapidly by a visibility change.\n      // If we don't see a visibility change within 100ms, it's probably a\n      // regular focus change.\n      hadFocusVisibleRecently = true;\n      window.clearTimeout(hadFocusVisibleRecentlyTimeout);\n      hadFocusVisibleRecentlyTimeout = window.setTimeout(function () {\n        hadFocusVisibleRecently = false;\n      }, 100);\n      removeFocusVisibleClass(e.target);\n    }\n  }\n\n  /**\n   * If the user changes tabs, keep track of whether or not the previously\n   * focused element had .focus-visible.\n   * @param {Event} e\n   */\n  function onVisibilityChange(e) {\n    if (document.visibilityState === 'hidden') {\n      // If the tab becomes active again, the browser will handle calling focus\n      // on the element (Safari actually calls it twice).\n      // If this tab change caused a blur on an element with focus-visible,\n      // re-apply the class when the user switches back to the tab.\n      if (hadFocusVisibleRecently) {\n        hadKeyboardEvent = true;\n      }\n      addInitialPointerMoveListeners();\n    }\n  }\n\n  /**\n   * Add a group of listeners to detect usage of any pointing devices.\n   * These listeners will be added when the polyfill first loads, and anytime\n   * the window is blurred, so that they are active when the window regains\n   * focus.\n   */\n  function addInitialPointerMoveListeners() {\n    document.addEventListener('mousemove', onInitialPointerMove);\n    document.addEventListener('mousedown', onInitialPointerMove);\n    document.addEventListener('mouseup', onInitialPointerMove);\n    document.addEventListener('pointermove', onInitialPointerMove);\n    document.addEventListener('pointerdown', onInitialPointerMove);\n    document.addEventListener('pointerup', onInitialPointerMove);\n    document.addEventListener('touchmove', onInitialPointerMove);\n    document.addEventListener('touchstart', onInitialPointerMove);\n    document.addEventListener('touchend', onInitialPointerMove);\n  }\n\n  function removeInitialPointerMoveListeners() {\n    document.removeEventListener('mousemove', onInitialPointerMove);\n    document.removeEventListener('mousedown', onInitialPointerMove);\n    document.removeEventListener('mouseup', onInitialPointerMove);\n    document.removeEventListener('pointermove', onInitialPointerMove);\n    document.removeEventListener('pointerdown', onInitialPointerMove);\n    document.removeEventListener('pointerup', onInitialPointerMove);\n    document.removeEventListener('touchmove', onInitialPointerMove);\n    document.removeEventListener('touchstart', onInitialPointerMove);\n    document.removeEventListener('touchend', onInitialPointerMove);\n  }\n\n  /**\n   * When the polfyill first loads, assume the user is in keyboard modality.\n   * If any event is received from a pointing device (e.g. mouse, pointer,\n   * touch), turn off keyboard modality.\n   * This accounts for situations where focus enters the page from the URL bar.\n   * @param {Event} e\n   */\n  function onInitialPointerMove(e) {\n    // Work around a Safari quirk that fires a mousemove on <html> whenever the\n    // window blurs, even if you're tabbing out of the page. ¯\\_(ツ)_/¯\n    if (e.target.nodeName && e.target.nodeName.toLowerCase() === 'html') {\n      return;\n    }\n\n    hadKeyboardEvent = false;\n    removeInitialPointerMoveListeners();\n  }\n\n  // For some kinds of state, we are interested in changes at the global scope\n  // only. For example, global pointer input, global key presses and global\n  // visibility change should affect the state at every scope:\n  document.addEventListener('keydown', onKeyDown, true);\n  document.addEventListener('mousedown', onPointerDown, true);\n  document.addEventListener('pointerdown', onPointerDown, true);\n  document.addEventListener('touchstart', onPointerDown, true);\n  document.addEventListener('visibilitychange', onVisibilityChange, true);\n\n  addInitialPointerMoveListeners();\n\n  // For focus and blur, we specifically care about state changes in the local\n  // scope. This is because focus / blur events that originate from within a\n  // shadow root are not re-dispatched from the host element if it was already\n  // the active element in its own scope:\n  scope.addEventListener('focus', onFocus, true);\n  scope.addEventListener('blur', onBlur, true);\n\n  // We detect that a node is a ShadowRoot by ensuring that it is a\n  // DocumentFragment and also has a host property. This check covers native\n  // implementation and polyfill implementation transparently. If we only cared\n  // about the native implementation, we could just check if the scope was\n  // an instance of a ShadowRoot.\n  if (scope.nodeType === Node.DOCUMENT_FRAGMENT_NODE && scope.host) {\n    // Since a ShadowRoot is a special kind of DocumentFragment, it does not\n    // have a root element to add a class to. So, we add this attribute to the\n    // host element instead:\n    scope.host.setAttribute('data-js-focus-visible', '');\n  } else if (scope.nodeType === Node.DOCUMENT_NODE) {\n    document.documentElement.classList.add('js-focus-visible');\n    document.documentElement.setAttribute('data-js-focus-visible', '');\n  }\n}\n\n// It is important to wrap all references to global window and document in\n// these checks to support server-side rendering use cases\n// @see https://github.com/WICG/focus-visible/issues/199\nif (typeof window !== 'undefined' && typeof document !== 'undefined') {\n  // Make the polyfill helper globally available. This can be used as a signal\n  // to interested libraries that wish to coordinate with the polyfill for e.g.,\n  // applying the polyfill to a shadow root:\n  window.applyFocusVisiblePolyfill = applyFocusVisiblePolyfill;\n\n  // Notify interested libraries of the polyfill's presence, in case the\n  // polyfill was loaded lazily:\n  var event;\n\n  try {\n    event = new CustomEvent('focus-visible-polyfill-ready');\n  } catch (error) {\n    // IE11 does not support using CustomEvent as a constructor directly:\n    event = document.createEvent('CustomEvent');\n    event.initCustomEvent('focus-visible-polyfill-ready', false, false, {});\n  }\n\n  window.dispatchEvent(event);\n}\n","export function getFileArrayBuffer(file) {\n  return new Promise((resolve) => {\n    let fileReader = new FileReader();\n    fileReader.onloadend = () => {\n      resolve(fileReader.result);\n    };\n    fileReader.readAsArrayBuffer(file);\n  });\n}\n","import { getFileAudioBuffer as getMP3FileAudioBuffer } from '@soundcut/decode-audio-data-fast';\n\nimport { getFileArrayBuffer } from './getFileArrayBuffer';\n\n// Use a promise wrapper on top of event based syntax\n// for browsers (Safari) which do not support promise-based syntax.\nfunction decodeAudioData(audioCtx, arrayBuffer) {\n  return new Promise(audioCtx.decodeAudioData.bind(audioCtx, arrayBuffer));\n}\n\nexport function getFileAudioBuffer(file, audioCtx, opts) {\n  const safari = !!window.webkitAudioContext;\n  const options = opts || {};\n\n  const slow = options.slow || safari;\n\n  if (slow) {\n    return getFileArrayBuffer(file).then((arrayBuffer) => {\n      return decodeAudioData(audioCtx, arrayBuffer);\n    });\n  }\n\n  return getMP3FileAudioBuffer(file, audioCtx).catch((err) => {\n    // Unable to decode audio data fast.\n    // Either because:\n    // - the file is not MP3\n    // - the browser does not support.. something?\n    // Fallback to regular AudioBuffer.decodeAudioData()\n    console.error(err);\n    return getFileArrayBuffer(file, audioCtx, { slow: true });\n  });\n}\n","export function withMediaSession(fn) {\n  if ('mediaSession' in navigator) {\n    fn();\n  }\n}\n","import { decode } from 'punycode';\n\nexport function getDisplayName(str) {\n  let ret = str;\n  try {\n    ret = decode(str);\n  } catch (err) {\n    // pass\n  }\n\n  return ret || 'Untitled';\n}\n","export async function fetchSource(url) {\n  const fetchPromise = fetch(url, {\n    method: 'GET',\n    headers: {\n      Accept: 'audio/*',\n    },\n  });\n\n  try {\n    const response = await fetchPromise;\n    if (response) {\n      if (response.status !== 200) {\n        const error = new Error('Unable to fetch source');\n        error.response = response;\n        throw error;\n      }\n    }\n\n    const blob = await response.blob();\n    let filename = 'Untitled';\n    try {\n      filename = response.headers\n        .get('content-disposition')\n        .match(/filename=\"(.+)\"/)[1];\n    } catch (err) {\n      // pass\n    }\n    return new File([blob], filename, {\n      type: (response.headers.get('content-type') || '').split(';')[0],\n    });\n  } catch (err) {\n    console.error({ err });\n    throw err;\n  }\n}\n","export function formatTime(time) {\n  return [\n    Math.floor((time % 3600) / 60), // minutes\n    ('00' + Math.floor(time % 60)).slice(-2), // seconds\n    ('00' + Math.floor((time % 1) * 100)).slice(-2), // tenth miliseconds\n  ].join(':');\n}\n","export function hexToRGB(hex) {\n  const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  return [\n    parseInt(result[1], 16),\n    parseInt(result[2], 16),\n    parseInt(result[3], 16),\n  ];\n}\n","import { svg } from 'uhtml';\n\nexport function Play() {\n  return svg`\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\"\n      height=\"24\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke=\"#37f0c2\"\n      stroke-width=\"2\"\n      stroke-linecap=\"square\"\n      stroke-linejoin=\"arcs\"\n    >\n      <polygon points=\"5 3 19 12 5 21 5 3\" />\n    </svg>\n  `;\n}\n","import { svg } from 'uhtml';\n\nexport function Pause(id = 'default') {\n  return svg`\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\"\n      height=\"24\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke=\"#37f0c2\"\n      stroke-width=\"2\"\n      stroke-linecap=\"square\"\n      stroke-linejoin=\"arcs\"\n    >\n      <rect x=\"6\" y=\"4\" width=\"4\" height=\"16\" />\n      <rect x=\"14\" y=\"4\" width=\"4\" height=\"16\" />\n    </svg>\n  `;\n}\n","import { html, render } from 'uhtml';\n\nimport { checkPassiveEventListener } from './helpers/checkPassiveEventListener';\nimport { applyFocusVisiblePolyfill } from './helpers/focus-visible';\nimport { getFileAudioBuffer } from './helpers/getFileAudioBuffer';\nimport { withMediaSession } from './helpers/withMediaSession';\nimport { getDisplayName } from './helpers/getDisplayName';\nimport { fetchSource } from './helpers/fetchSource';\nimport { formatTime } from './helpers/formatTime';\nimport { hexToRGB } from './helpers/hexToRGB';\nimport { Play } from './components/Icons/Play';\nimport { Pause } from './components/Icons/Pause';\n\nconst SPACING = 20;\nconst CONTAINER_WIDTH = 900;\nconst CONTAINER_HEIGHT = 260;\nconst HEIGHT = CONTAINER_HEIGHT - SPACING * 2;\nconst BAR_WIDTH = 4;\nconst BAR_HANDLE_RADIUS = 8;\nconst BAR_CENTER = (BAR_WIDTH - 1) / 2;\nconst BAR_GAP = false;\nconst FONT_FAMILY = 'monospace';\nconst FONT_SIZE = 10;\nconst FONT = `${FONT_SIZE}px ${FONT_FAMILY}`;\nconst TIME_ANNOTATION_WIDTH = 40;\nconst BAR_COLOR = '#166a77';\nconst BACKGROUND_COLOR = '#113042';\nconst SLICE_COLOR = '#37f0c2';\n\nclass AudioWaveformPlayer extends HTMLElement {\n  constructor() {\n    super().attachShadow({ mode: 'open' });\n    this.renderer = render.bind(this, this.shadowRoot);\n    this.audioRef = this.audioRef.bind(this);\n    this.handlePlayPauseClick = this.handlePlayPauseClick.bind(this);\n    this.handleSourceTimeUpdate = this.handleSourceTimeUpdate.bind(this);\n    this.handleMouseDown = this.handleMouseDown.bind(this);\n    this.handleMouseMove = this.handleMouseMove.bind(this);\n    this.handleMouseUp = this.handleMouseUp.bind(this);\n    this.handleKeyDown = this.handleKeyDown.bind(this);\n\n    this.pixelRatio =\n      // FIXME: Force pixelRatio=1 otherwise devices > 1 only draw half\n      1 || window.devicePixelRatio || screen.deviceXDPI / screen.logicalXDPI;\n    this.halfPixel = 0.5 / this.pixelRatio;\n  }\n\n  get src() {\n    return this.getAttribute('src');\n  }\n\n  async connectedCallback() {\n    this.supportsPassiveEventListener = checkPassiveEventListener();\n    this.evtHandlerOptions = this.supportsPassiveEventListener\n      ? { passive: true }\n      : true;\n    applyFocusVisiblePolyfill(this.shadowRoot);\n\n    this.render();\n    this.setupContainer();\n\n    this.file = await fetchSource(this.src);\n    this.objectURL = URL.createObjectURL(this.file);\n\n    this.audioCtx = new (window.AudioContext || window.webkitAudioContext)();\n    getFileAudioBuffer(this.file, this.audioCtx).then((audioBuffer) => {\n      this.audioBuffer = audioBuffer;\n      this.onAudioDecoded();\n    });\n  }\n\n  audioRef(audio) {\n    if (audio && audio !== this.audio) {\n      if (this.audio) {\n        this.audio.removeEventListener(\n          'timeupdate',\n          this.handleSourceTimeUpdate,\n          this.evtHandlerOptions\n        );\n      }\n      this.audio = audio;\n      this.audio.addEventListener(\n        'timeupdate',\n        this.handleSourceTimeUpdate,\n        this.evtHandlerOptions\n      );\n    }\n  }\n\n  /**\n   * Set the rendered length (different from the length of the audio).\n   *\n   * @param {number} length\n   */\n  setLength(length) {\n    this.splitPeaks = [];\n    this.mergedPeaks = [];\n    // Set the last element of the sparse array so the peak arrays are\n    // appropriately sized for other calculations.\n    const channels = this.audioBuffer.numberOfChannels;\n    let c;\n    for (c = 0; c < channels; c++) {\n      this.splitPeaks[c] = [];\n      this.splitPeaks[c][2 * (length - 1)] = 0;\n      this.splitPeaks[c][2 * (length - 1) + 1] = 0;\n    }\n    this.mergedPeaks[2 * (length - 1)] = 0;\n    this.mergedPeaks[2 * (length - 1) + 1] = 0;\n  }\n\n  /**\n   * Compute the max and min value of the waveform when broken into <length> subranges.\n   *\n   * @param {number} length How many subranges to break the waveform into.\n   * @param {number} first First sample in the required range.\n   * @param {number} last Last sample in the required range.\n   * @return {number[]|number[][]} Array of 2*<length> peaks or array of arrays of\n   * peaks consisting of (max, min) values for each subrange.\n   */\n  getPeaks(length, first, last) {\n    first = first || 0;\n    last = last || length - 1;\n\n    this.setLength(length);\n\n    const sampleSize = this.audioBuffer.length / length;\n    const sampleStep = ~~(sampleSize / 10) || 1;\n    const channels = this.audioBuffer.numberOfChannels;\n    let c;\n\n    for (c = 0; c < channels; c++) {\n      const peaks = this.splitPeaks[c];\n      const chan = this.audioBuffer.getChannelData(c);\n      let i;\n\n      for (i = first; i <= last; i++) {\n        const start = ~~(i * sampleSize);\n        const end = ~~(start + sampleSize);\n        let min = 0;\n        let max = 0;\n        let j;\n\n        for (j = start; j < end; j += sampleStep) {\n          const value = chan[j];\n\n          if (value > max) {\n            max = value;\n          }\n\n          if (value < min) {\n            min = value;\n          }\n        }\n\n        peaks[2 * i] = max;\n        peaks[2 * i + 1] = min;\n\n        if (c == 0 || max > this.mergedPeaks[2 * i]) {\n          this.mergedPeaks[2 * i] = max;\n        }\n\n        if (c == 0 || min < this.mergedPeaks[2 * i + 1]) {\n          this.mergedPeaks[2 * i + 1] = min;\n        }\n      }\n    }\n\n    return this.mergedPeaks;\n  }\n\n  async onAudioDecoded() {\n    this.render();\n    this.setupCanvases();\n\n    this.canvases.addEventListener(\n      'mousemove',\n      this.handleMouseMove,\n      this.evtHandlerOptions\n    );\n    this.canvases.addEventListener(\n      'touchmove',\n      this.handleMouseMove,\n      this.evtHandlerOptions\n    );\n\n    this.canvases.addEventListener(\n      'mousedown',\n      this.handleMouseDown,\n      this.evtHandlerOptions\n    );\n    this.canvases.addEventListener(\n      'touchstart',\n      this.handleMouseDown,\n      this.evtHandlerOptions\n    );\n    this.canvases.addEventListener(\n      'keydown',\n      this.handleKeyDown,\n      this.evtHandlerOptions\n    );\n\n    const width = this.width;\n    const start = 0;\n    const end = this.width;\n\n    const peaks = this.getPeaks(width, start, end);\n    await this.drawBars(peaks, 0, this.width);\n    this.drawn = true;\n  }\n\n  getDuration() {\n    return this.audioBuffer.duration;\n  }\n\n  handleKeyDown(evt) {\n    const duration = this.getDuration();\n    const currentTime = this.audio.currentTime;\n\n    let percentage = Math.round((currentTime / duration) * 100);\n    let stop = false;\n\n    switch (evt.key) {\n      case 'ArrowLeft':\n        percentage -= 1;\n        break;\n      case 'ArrowRight':\n        percentage += 1;\n        break;\n      case 'ArrowUp':\n        percentage += 10;\n        break;\n      case 'ArrowDown':\n        percentage -= 10;\n        break;\n      case 'Home':\n        percentage = 0;\n        break;\n      case 'End':\n        percentage = 99.9; // 100 would trigger onEnd, so only 99.9\n        break;\n      default:\n        stop = true;\n        break;\n    }\n\n    if (stop) return;\n\n    percentage = Math.min(Math.max(percentage, 0), 100);\n\n    this.audio.currentTime = (duration / 100) * percentage;\n  }\n\n  handleMouseMove(evt) {\n    const touch = evt.touches;\n    requestAnimationFrame(() => {\n      const duration = this.getDuration();\n      const xContainer =\n        (touch ? evt.touches[0] : evt).clientX -\n        this.boundingClientRect.left +\n        this.container.scrollLeft;\n\n      const newBoundaryPos = Math.min(\n        Math.max(xContainer, SPACING),\n        this.width + SPACING\n      );\n\n      const canvasCtx = this.canvasContexts['cursor'];\n      canvasCtx.clearRect(0, 0, this.containerWidth, CONTAINER_HEIGHT);\n      this.drawBoundary(canvasCtx, newBoundaryPos);\n    });\n  }\n\n  handleMouseDown(evt) {\n    const touch = evt.touches;\n    const xContainer =\n      (touch ? evt.touches[0] : evt).clientX -\n      this.boundingClientRect.left +\n      this.container.scrollLeft;\n\n    const duration = this.getDuration();\n    const boundary = Math.min(Math.max(xContainer - SPACING, 0), this.width);\n    const currentTime = (duration / this.width) * boundary;\n\n    this.audio.currentTime = currentTime;\n\n    this.canvases.addEventListener(\n      'mouseup',\n      this.handleMouseUp,\n      this.evtHandlerOptions\n    );\n    this.canvases.addEventListener(\n      'touchend',\n      this.handleMouseUp,\n      this.evtHandlerOptions\n    );\n  }\n\n  async handleMouseUp(evt) {\n    this.canvases.removeEventListener(\n      'touchend',\n      this.handleMouseUp,\n      this.evtHandlerOptions\n    );\n    this.canvases.removeEventListener(\n      'mouseup',\n      this.handleMouseUp,\n      this.evtHandlerOptions\n    );\n\n    const xContainer =\n      (evt.changedTouches ? evt.changedTouches[0] : evt).clientX -\n      this.boundingClientRect.left +\n      this.container.scrollLeft;\n\n    const duration = this.getDuration();\n    const boundary = Math.min(Math.max(xContainer - SPACING, 0), this.width);\n    const currentTime = (duration / this.width) * boundary;\n\n    this.audio.currentTime = currentTime;\n  }\n\n  drawBoundary(canvasCtx, x) {\n    canvasCtx.fillStyle = SLICE_COLOR;\n    canvasCtx.fillRect(x, 0, BAR_WIDTH / 2, HEIGHT);\n    canvasCtx.beginPath();\n    canvasCtx.arc(\n      x + BAR_CENTER,\n      HEIGHT - BAR_HANDLE_RADIUS,\n      BAR_HANDLE_RADIUS,\n      0,\n      2 * Math.PI\n    );\n    canvasCtx.fill();\n    canvasCtx.beginPath();\n    canvasCtx.arc(\n      x + BAR_CENTER,\n      BAR_HANDLE_RADIUS,\n      BAR_HANDLE_RADIUS,\n      0,\n      2 * Math.PI\n    );\n    canvasCtx.fill();\n\n    const time = Math.max((this.getDuration() / this.width) * (x - SPACING), 0);\n    const formattedTime = formatTime(time);\n    const textSpacing = BAR_HANDLE_RADIUS + SPACING / 2;\n    const textX =\n      this.width - x < TIME_ANNOTATION_WIDTH + textSpacing\n        ? x - TIME_ANNOTATION_WIDTH - textSpacing\n        : x + textSpacing;\n    const textY = FONT_SIZE;\n    canvasCtx.fillText(formattedTime, textX, textY);\n  }\n\n  handleSourceTimeUpdate() {\n    if (!this.drawn) return;\n\n    requestAnimationFrame(() => {\n      const duration = this.getDuration();\n\n      const x = Math.round((this.width / duration) * this.audio.currentTime);\n      const startX = Math.round((this.width / duration) * 0);\n      const width = x - startX;\n\n      const canvasCtx = this.canvasContexts['progress'];\n\n      if (!width) {\n        canvasCtx.clearRect(0, 0, this.width, HEIGHT);\n        return;\n      }\n\n      const partial = this.canvasContexts['waveform'].getImageData(\n        startX,\n        0,\n        width,\n        HEIGHT\n      );\n      const imageData = partial.data;\n\n      const progressColor = hexToRGB(SLICE_COLOR);\n      // Loops through all of the pixels and modifies the components.\n      for (let i = 0, n = imageData.length; i < n; i += 4) {\n        imageData[i] = progressColor[0]; // Red component\n        imageData[i + 1] = progressColor[1]; // Green component\n        imageData[i + 2] = progressColor[2]; // Blue component\n        //pix[i+3] is the transparency.\n      }\n\n      canvasCtx.clearRect(0, 0, this.width, HEIGHT);\n      canvasCtx.putImageData(partial, startX, 0);\n      this.render();\n    });\n  }\n\n  drawBars(peaks, start, end) {\n    return new Promise((resolve) => {\n      this.prepareDraw(\n        peaks,\n        start,\n        end,\n        ({ hasMinVals, offsetY, halfH, peaks }) => {\n          // Skip every other value if there are negatives.\n          const peakIndexScale = hasMinVals ? 2 : 1;\n          const length = peaks.length / peakIndexScale;\n          const bar = BAR_WIDTH * this.pixelRatio;\n          const gap = BAR_GAP ? Math.max(this.pixelRatio, ~~(bar / 2)) : 0;\n          const step = bar + gap;\n\n          const scale = length / this.width;\n          const first = start;\n          const last = end;\n          let i;\n\n          this.canvasContexts['waveform'].fillStyle = BAR_COLOR;\n          for (i = first; i < last; i += step) {\n            const peak = peaks[Math.floor(i * scale * peakIndexScale)] || 0;\n            const h = Math.round((peak / 1) * halfH);\n            this.canvasContexts['waveform'].fillRect(\n              i + this.halfPixel,\n              halfH - h + offsetY,\n              bar + this.halfPixel,\n              h * 2\n            );\n          }\n          resolve();\n        }\n      );\n    });\n  }\n\n  prepareDraw(peaks, start, end, fn) {\n    return requestAnimationFrame(() => {\n      // Bar wave draws the bottom only as a reflection of the top,\n      // so we don't need negative values\n      const hasMinVals = peaks.some((val) => val < 0);\n      const height = HEIGHT - SPACING * 2 * this.pixelRatio;\n      const offsetY = SPACING;\n      const halfH = height / 2;\n\n      return fn({\n        hasMinVals: hasMinVals,\n        height: height,\n        offsetY: offsetY,\n        halfH: halfH,\n        peaks: peaks,\n      });\n    });\n  }\n\n  setupContainer() {\n    this.container = this.shadowRoot.getElementById('root');\n    this.boundingClientRect = this.container.getBoundingClientRect();\n    this.containerWidth = this.boundingClientRect.width;\n    this.width = this.boundingClientRect.width - SPACING * 2;\n  }\n\n  setupCanvases() {\n    this.canvasContexts = {};\n    this.canvases = this.container.querySelector('#canvases');\n    Array.from(this.canvases.children).forEach((node) => {\n      const canvas = node.id.replace('-canvas', '');\n      this.canvases[canvas] = node;\n      this.canvasContexts[canvas] = node.getContext('2d');\n      this.canvasContexts[canvas].clearRect(0, 0, this.width, HEIGHT);\n      this.canvasContexts[canvas].font = FONT;\n    });\n  }\n\n  async play() {\n    withMediaSession(() => {\n      navigator.mediaSession.playbackState = 'playing';\n    });\n    try {\n      await this.audio.play();\n    } catch (err) {\n      console.error(err);\n      // Browser refuses to play audio from an ObjectURL...\n      // Probably because of missing MIME type in `<source type=\"...\"`>\n      // Fallback to streaming remote audio.\n      // /!\\ Disabled for now, as using a <audio> element in render() w/ ref.\n      // if (this.audio.src !== this.src && err.name.match(/NotSupportedError/)) {\n      //   this.audio.removeEventListener(\n      //     'timeupdate',\n      //     this.handleSourceTimeUpdate,\n      //     this.evtHandlerOptions\n      //   );\n      //   this.audio = new Audio(this.src);\n      //   return this.play();\n      // }\n    }\n    this.render();\n  }\n\n  pause() {\n    withMediaSession(() => {\n      navigator.mediaSession.playbackState = 'paused';\n    });\n    this.audio.pause();\n    this.render();\n  }\n\n  setMediaMetaData() {\n    const title = getDisplayName(this.file.name);\n    navigator.mediaSession.metadata = new MediaMetadata({\n      title,\n    });\n    this.mediaMetadata = navigator.mediaSession.metadata;\n  }\n\n  togglePlayPause() {\n    withMediaSession(() => {\n      if (!this.mediaMetadata) {\n        this.setMediaMetaData();\n      }\n      navigator.mediaSession.setActionHandler('play', this.play);\n      navigator.mediaSession.setActionHandler('pause', this.pause);\n    });\n\n    if (this.audio.paused) {\n      this.play();\n    } else {\n      this.pause();\n    }\n  }\n\n  handlePlayPauseClick(evt) {\n    evt.preventDefault();\n    this.togglePlayPause();\n  }\n\n  render() {\n    const disabled = !this.audio || undefined;\n    const paused = !this.audio || this.audio.paused;\n    const progress =\n      disabled || !this.audioBuffer\n        ? 0\n        : Math.round((this.audio.currentTime / this.getDuration()) * 100);\n\n    return this.renderer(html`\n      <style>\n        ${`\n        * {\n          box-sizing: border-box;\n        }\n\n        #root {\n          width: 100%;\n          max-width: ${CONTAINER_WIDTH}px;\n          margin: 0 auto;\n          margin-top: 150px;\n          background-color: ${BACKGROUND_COLOR};\n          border: 0;\n          border-radius: ${SPACING}px;\n          padding: ${SPACING}px 0;\n          overflow-x: auto;\n        }\n\n        #canvases {\n          position: relative;\n          height: 100%;\n        }\n\n        canvas {\n          position: absolute;\n          top: ${SPACING}px;\n          left: ${SPACING}px;\n          background-color: transparent;\n        }\n\n        #progress-canvas:focus {\n          outline: 0;\n          box-shadow: ${SLICE_COLOR} 0 0 2px 2px;\n        }\n  \n        #progress-canvas:focus:not(.focus-visible) {\n          box-shadow: none;\n        }\n\n        #cursor-canvas {\n          left: 0;\n        }\n\n        #controls {\n          display: flex;\n          justify-content: center;\n        }\n\n        button {\n          width: 48px;\n          height: 48px;\n          border-radius: 50%;\n          background: transparent;\n          border: 3px solid transparent;\n          border-color: ${SLICE_COLOR};\n        }\n\n        button,\n        button:hover,\n        button:active,\n        button:focus {\n          outline: 0;\n          box-shadow: none;\n        }\n\n        button:hover {\n          background-color: rgba(${hexToRGB(BAR_COLOR)}, 0.6);\n        }\n\n        button:active {\n          background-color: ${BAR_COLOR};\n        }\n\n        button:focus {\n          box-shadow: ${SLICE_COLOR} 0 0 2px 2px;\n        }\n\n        button:focus:not(.focus-visible) {\n          box-shadow: none;\n        }\n\n        #play-pause[data-state=\"play\"] svg {\n          margin-left: 3px;\n        }\n      `}\n      </style>\n      <div id=\"root\" aria-label=\"Audio Player\" role=\"region\">\n        ${this.audioBuffer &&\n        html`\n          <div id=\"canvases\" style=\"${`max-height:${CONTAINER_HEIGHT}px`}\">\n            <canvas\n              id=\"waveform-canvas\"\n              width=\"${this.width}\"\n              height=\"${HEIGHT}\"\n            />\n            <canvas\n              id=\"progress-canvas\"\n              width=\"${this.width}\"\n              height=\"${HEIGHT}\"\n              tabindex=\"0\"\n              aria-valuetext=\"seek audio keyboard slider\"\n              aria-valuemax=\"100\"\n              aria-valuemin=\"0\"\n              aria-valuenow=${progress}\n              role=\"slider\"\n            />\n            <canvas\n              id=\"cursor-canvas\"\n              width=\"${this.containerWidth}\"\n              height=\"${HEIGHT}\"\n            />\n          </div>\n        `}\n        <div id=\"controls\">\n          <button\n            id=\"play-pause\"\n            disabled=${disabled}\n            onclick=${this.handlePlayPauseClick}\n            data-state=${!paused ? 'pause' : 'play'}\n            aria-label=${!paused ? 'Pause' : 'Play'}\n          >\n            ${!paused ? Pause() : Play()}\n          </button>\n        </div>\n        <audio ref=${this.audioRef}>\n          ${this.objectURL && this.file\n            ? html` <source src=${this.objectURL} type=${this.file.type} /> `\n            : ''}\n        </audio>\n      </div>\n    `);\n  }\n}\n\nObject.defineProperty(AudioWaveformPlayer, 'observedAttributes', {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  value: ['src'],\n});\n\nexport { AudioWaveformPlayer };\n","import { AudioWaveformPlayer } from './AudioWaveformPlayer.js';\n\ncustomElements.define('waveform-player', AudioWaveformPlayer);\n"],"names":["getMP3FileAudioBuffer","decode","svg","render","html"],"mappings":"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"}